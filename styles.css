:root { color-scheme: light dark; }
html, body { height: 100%; }
body {
 margin: 0;
 font: 16px/1.6 system-ui, -apple-system, "Segoe UI", Roboto, Arial, sansserif;
 background: #f8fafc;
 color: #0b1020;
}
.page {
 min-height: 100vh; /* фолбэк для старых браузеров (может не учитывать
панели на мобилках) */
 min-height: 100svh; /* стабильный минимум: высота экрана с панелями
(всегда влезет) */
 min-height: 100dvh; /* на новых браузерах — актуальная видимая высота,
обновляется при скролле */
display: flex;
flex-direction: column;
}
main { flex: 1; }

.skip-link{
 position: absolute;
 inset-inline-start: 1rem;
 inset-block-start: -100%;
 z-index: 10000;
 padding: .5rem .75rem;
 background: #111;
 color: #fff;
 border-radius: .5rem;
 text-decoration: none;
}
.skip-link:focus,
.skip-link:focus-visible { inset-block-start: 1rem; }
:focus-visible { outline: 3px solid #2563eb; outline-offset: 2px; }
a, button, input, textarea { outline-offset: 2px; }
/* Крупные цели на устройствах с pointer:coarse */
@media (pointer: coarse){
 a, button, .nav__link { min-height: 44px; padding: .75rem 1rem; }
}

.nav{
 position: sticky;
 top: 0;
 /* Прибавки для вырезов/жестовых панелей — только где они есть */
 padding-block-start: calc(.75rem + env(safe-area-inset-top));
 padding-block-end: .75rem;
 padding-inline-start: calc(var(--space-md, 1rem) + env(safe-area-insetleft));
 padding-inline-end: calc(var(--space-md, 1rem) + env(safe-area-insetright));
 background: #2563eb;
 color: #fff;
 z-index: 100;
 isolation: isolate; /* свой контекст для теней/фильтров */
 box-shadow: 0 1px 3px rgba(0,0,0,.1);
}

.hero__photo{
 inline-size: 200px; /* или: clamp(150px, 22vw, 200px); тогда sizes
меняем соответствующе */
 block-size: auto;
 border-radius: 50%;
 object-fit: cover;
 box-shadow: 0 10px 15px -3px rgb(0 0 0 / 0.1), 0 4px 6px -4px rgb(0 0 0 /
0.1);
}

.projects-preview { margin-block: var(--space-2xl, 3rem); }
.projects-preview__grid{
 display: grid; /* включаем CSS Grid */
 grid-template-columns: repeat(auto-fit, minmax(18rem, 1fr));
 gap: var(--space-lg, 1.5rem); /* промежутки между колонками/строками */
}
.project-card{
 background: #fff;
 border-radius: .75rem;
 box-shadow: 0 4px 6px -1px rgb(0 0 0 / 0.1), 0 2px 4px -2px rgb(0 0 0 /
0.1);
 transition: transform .2s ease, box-shadow .2s ease;
 min-width: 0; /* разрешаем контенту ужиматься */
}
.project-card:hover{ transform: translateY(-4px); }
.project-card__title,
.project-card__description { overflow-wrap: anywhere; }

.projects-preview__grid{
 display: grid;
 grid-template-columns: repeat(auto-fit, minmax(18rem, 22rem)); /* максимум
22rem */
 gap: var(--space-lg, 1.5rem);
 justify-content: center; /* центрируем сетку, когда есть свободное место */
}

/* Базовое поведение для всех браузеров */
.projects-list{
 display: grid;
 grid-template-columns: 1fr; /* одна колонка по умолчанию
*/
 gap: var(--space-lg, 1.5rem);
}
/* Прогрессивное улучшение: только если CQ поддерживаются */
@supports (container-type: inline-size){
 .projects-area{
 /* Делаем область контейнером для CQ */
 container-type: inline-size; /* реагируем на ширину
(inline) */
 container-name: projects; /* по имени удобнее
таргетировать */
 }
 /* Когда КОНТЕЙНЕР шире 640px — 2 колонки */
 @container projects (min-width: 640px){
 .projects-list{ grid-template-columns: repeat(2, 1fr); }
}
 /* Когда шире 960px — 3 колонки */
 @container projects (min-width: 960px){
 .projects-list{ grid-template-columns: repeat(3, 1fr); }
 }
}

@supports (container-type: inline-size){
 .projects-list{ gap: clamp(12px, 2cqi, 24px); } /* 1cqi = 1% ширины
контейнера */
}

.section-title { font-size: clamp(1.5rem, 1.1rem + 2vw, 2rem); }
.hero__greeting { font-size: clamp(1.25rem, 1rem + 1.2vw, 1.8rem); }
main { padding-inline: clamp(.75rem, .5rem + 1vw, 2rem); }
.card__title{ font-size: clamp(1rem, 0.875rem + 2cqi, 1.5rem); }
.prose{ max-width: 65ch; }

/* Видимый фокус уже задан (:focus-visible) */
.visually-hidden{
 position:absolute!important; width:1px; height:1px; padding:0; margin:-1px;
 overflow:hidden; clip:rect(0 0 0 0); white-space:nowrap; border:0;
}
/* Повышенный контраст (прогрессивно) */
@media (prefers-contrast: more){
 .button, .filter{ box-shadow: inset 0 0 0 2px #fff; }
}
/* Уважение к снижению движения */
@media (prefers-reduced-motion: reduce){
 *{ animation: none !important; transition: none !important; }
}

/* Плавные поля секций */
.section, .main { padding-inline: clamp(1rem, calc(.5rem + 1vw), 2rem); }
/* Кнопки: минимальная зона клика 44px (WCAG) */
.button { padding-block: max(.5rem, calc((44px - 1em)/2)); }
/* Full-bleed для геро-блока (если нужен фон на всю ширину) */
.hero--bleed{
 margin-inline: calc(50% - 50vw);
 padding-inline: calc(50vw - 50%);
}
/* Иконка в поле ввода (если появится поиск) */
.search__input{
 --icon: 20px; --gap: .5rem;
 background: url(images/search.svg) no-repeat left .75rem center / var(--
icon);
 padding-left: calc(1.5rem + var(--icon) + var(--gap));
}
/* Safe-area в футере (жестовая панель) */
.footer { padding-bottom: calc(1rem + env(safe-area-inset-bottom)); }

